<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="PragmaticScala">
<meta name="generator" content="Paradox, paradox-material-theme=0.4.0, mkdocs-material=2.2.2">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.language" content="">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="PragmaticScala">
<link rel="shortcut icon" href="../assets/images/favicon.png">
<title>第3章——From Java to Scala · </title>
<link rel="stylesheet" href="../assets/stylesheets/application.7a4cdee3.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../lib/modernizr/modernizr.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
<label class="md-overlay" data-md-component="overlay" for="drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
</span>
<span class="md-header-nav__topic">
第3章——From Java to Scala
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="search"></label>
<div class="md-search__inner">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
<label class="md-icon md-search__icon" for="search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</span>
<a href="../index.html" title="">
</a>
</label>
<ul>
  <li><a href="../contents.html" class="page">目录</a>
  <ul>
    <li><a href="../chapter-01/index.html" class="page">第1章——探索Scala</a></li>
    <li><a href="../chapter-02/index.html" class="page">第2章——体验Scala</a></li>
    <li><a href="../chapter-03/index.html" class="active page">第3章——From Java to Scala</a></li>
    <li><a href="../chapter-04/index.html" class="page">第4章——善用对象</a></li>
    <li><a href="../chapter-05/index.html" class="page">第5章——善用类型</a></li>
    <li><a href="../chapter-07/index.html" class="page">第7章——特质</a></li>
    <li><a href="../chapter-08/index.html" class="page">第8章——集合</a></li>
    <li><a href="../chapter-09/index.html" class="page">第9章——模式匹配和正则表达式</a></li>
    <li><a href="../chapter-10/index.html" class="page">第10章——处理异常</a></li>
    <li><a href="../chapter-11/index.html" class="page">第11章——递归编程</a></li>
    <li><a href="../chapter-12/index.html" class="page">第12章——惰性求值和并行集合</a></li>
    <li><a href="../chapter-13/index.html" class="page">第13章——使用Actor模型处理并发</a></li>
    <li><a href="../chapter-14/index.html" class="page">第14章——和Java进行互操作</a></li>
    <li><a href="../chapter-15/index.html" class="page">第15章——使用Scala创建应用程序</a></li>
    <li><a href="../chapter-16/index.html" class="page">第16章——单元测试</a></li>
  </ul></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="toc">Table of contents</label>
<ul>
  <li><a href="../chapter-03/index.html#第3章-from-java-to-scala" class="header">第3章——From Java to Scala</a>
  <ul>
    <li><a href="../chapter-03/index.html#代码清单3-1" class="header">代码清单3-1</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-2" class="header">代码清单3-2</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-3" class="header">代码清单3-3</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-4" class="header">代码清单3-4</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-5" class="header">代码清单3-5</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-6" class="header">代码清单3-6</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-7" class="header">代码清单3-7</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-8" class="header">代码清单3-8</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-9" class="header">代码清单3-9</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-10" class="header">代码清单3-10</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-11" class="header">代码清单3-11</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-12" class="header">代码清单3-12</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-13" class="header">代码清单3-13</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-14" class="header">代码清单3-14</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-15" class="header">代码清单3-15</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-16" class="header">代码清单3-16</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-17" class="header">代码清单3-17</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-18" class="header">代码清单3-18</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-19" class="header">代码清单3-19</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-20" class="header">代码清单3-20</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-21" class="header">代码清单3-21</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-22" class="header">代码清单3-22</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-23" class="header">代码清单3-23</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-24" class="header">代码清单3-24</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-25" class="header">代码清单3-25</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-26" class="header">代码清单3-26</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-27" class="header">代码清单3-27</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-28" class="header">代码清单3-28</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-29" class="header">代码清单3-29</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-30" class="header">代码清单3-30</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-31" class="header">代码清单3-31</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-32" class="header">代码清单3-32</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-33" class="header">代码清单3-33</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-34" class="header">代码清单3-34</a></li>
  </ul></li>
</ul>
</nav>

<div class="md-nav__title--site md-version" title="Version">
<i class="md-icon">label_outline</i> 1.0
</div>
</nav>

</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="toc">Table of contents</label>
<ul>
  <li><a href="../chapter-03/index.html#第3章-from-java-to-scala" class="header">第3章——From Java to Scala</a>
  <ul>
    <li><a href="../chapter-03/index.html#代码清单3-1" class="header">代码清单3-1</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-2" class="header">代码清单3-2</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-3" class="header">代码清单3-3</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-4" class="header">代码清单3-4</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-5" class="header">代码清单3-5</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-6" class="header">代码清单3-6</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-7" class="header">代码清单3-7</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-8" class="header">代码清单3-8</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-9" class="header">代码清单3-9</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-10" class="header">代码清单3-10</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-11" class="header">代码清单3-11</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-12" class="header">代码清单3-12</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-13" class="header">代码清单3-13</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-14" class="header">代码清单3-14</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-15" class="header">代码清单3-15</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-16" class="header">代码清单3-16</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-17" class="header">代码清单3-17</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-18" class="header">代码清单3-18</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-19" class="header">代码清单3-19</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-20" class="header">代码清单3-20</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-21" class="header">代码清单3-21</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-22" class="header">代码清单3-22</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-23" class="header">代码清单3-23</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-24" class="header">代码清单3-24</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-25" class="header">代码清单3-25</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-26" class="header">代码清单3-26</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-27" class="header">代码清单3-27</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-28" class="header">代码清单3-28</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-29" class="header">代码清单3-29</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-30" class="header">代码清单3-30</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-31" class="header">代码清单3-31</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-32" class="header">代码清单3-32</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-33" class="header">代码清单3-33</a></li>
    <li><a href="../chapter-03/index.html#代码清单3-34" class="header">代码清单3-34</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#第3章-from-java-to-scala" name="第3章-from-java-to-scala" class="anchor"><span class="anchor-link"></span></a>第3章——From Java to Scala</h1>
<h2><a href="#代码清单3-1" name="代码清单3-1" class="anchor"><span class="anchor-link"></span></a>代码清单3-1</h2>
<pre class="prettyprint"><code class="language-java">//Java code
public class Greetings {
  public static void main(String[] args) {
    for(int i = 1; i &lt; 4; i++) {
      System.out.print(i + &quot;,&quot;);     
    } 
    System.out.println(&quot;Scala Rocks!!!&quot;);
  }
}</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">1,2,3,Scala Rocks!!!</code></pre>
<h2><a href="#代码清单3-2" name="代码清单3-2" class="anchor"><span class="anchor-link"></span></a>代码清单3-2</h2>
<pre class="prettyprint"><code class="language-scala">for (i ← 1 to 3) {
  print(s&quot;$i,&quot;)
}

println(&quot;Scala Rocks!!!&quot;)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">1,2,3,Scala Rocks!!!</code></pre>
<h2><a href="#代码清单3-3" name="代码清单3-3" class="anchor"><span class="anchor-link"></span></a>代码清单3-3</h2>
<pre class="prettyprint"><code class="language-scala">for (i ← 1 until 3) {
  print(s&quot;$i,&quot;)
}

println(&quot;Scala Rocks!!!&quot;)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">1,2,Scala Rocks!!!</code></pre>
<h2><a href="#代码清单3-4" name="代码清单3-4" class="anchor"><span class="anchor-link"></span></a>代码清单3-4</h2>
<pre class="prettyprint"><code class="language-scala">(1 to 3).foreach(i ⇒ print(s&quot;$i,&quot;))

println(&quot;Scala Rocks!!!&quot;)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">1,2,3,Scala Rocks!!!</code></pre>
<h2><a href="#代码清单3-5" name="代码清单3-5" class="anchor"><span class="anchor-link"></span></a>代码清单3-5</h2>
<pre class="prettyprint"><code class="language-scala">class ScalaInt {
  def playWithInt(): Unit = {
    val capacity: Int = 10
    val list = new java.util.ArrayList[String]
    list.ensureCapacity(capacity)
  }
}</code></pre>
<h2><a href="#代码清单3-6" name="代码清单3-6" class="anchor"><span class="anchor-link"></span></a>代码清单3-6</h2>
<pre class="prettyprint"><code class="language-scala">def getPersonInfo(primaryKey: Int) = {
  // Assume primaryKey is used to fetch a person&#39;s info...
  // Here response is hard-coded
  (&quot;Venkat&quot;, &quot;Subramaniam&quot;, &quot;venkats@agiledeveloper.com&quot;)
}

val (firstName, lastName, emailAddress) = getPersonInfo(1)

println(s&quot;First Name: $firstName&quot;)
println(s&quot;Last Name: $lastName&quot;)
println(s&quot;Email Address: $emailAddress&quot;)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">First Name: Venkat
Last Name: Subramaniam
Email Address: venkats@agiledeveloper.com</code></pre>
<h2><a href="#代码清单3-7" name="代码清单3-7" class="anchor"><span class="anchor-link"></span></a>代码清单3-7</h2>
<pre class="prettyprint"><code class="language-scala">def getPersonInfo(primaryKey: Int): (String, String, String) = {
  (&quot;Venkat&quot;, &quot;Subramaniam&quot;, &quot;venkats@agiledeveloper.com&quot;)
}

val (firstName, lastName) = getPersonInfo(1)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">MultipleAssignment2.scala:5: error: constructor cannot be instantiated to
expected type;
 found   : (T1, T2)
 required: (String, String, String)
val (firstName, lastName) = getPersonInfo(1)
    ^
one error found</code></pre>
<h2><a href="#代码清单3-8" name="代码清单3-8" class="anchor"><span class="anchor-link"></span></a>代码清单3-8</h2>
<pre class="prettyprint"><code class="language-scala">def max(values: Int*) = values.foldLeft(values(0)) { Math.max }</code></pre>
<h2><a href="#代码清单3-9" name="代码清单3-9" class="anchor"><span class="anchor-link"></span></a>代码清单3-9</h2>
<pre class="prettyprint"><code class="language-scala">max(8, 2, 3)</code></pre>
<h2><a href="#代码清单3-10" name="代码清单3-10" class="anchor"><span class="anchor-link"></span></a>代码清单3-10</h2>
<pre class="prettyprint"><code class="language-scala">max(2, 5, 3, 7, 1, 6)</code></pre>
<h2><a href="#代码清单3-11" name="代码清单3-11" class="anchor"><span class="anchor-link"></span></a>代码清单3-11</h2>
<pre class="prettyprint"><code class="language-scala">def function(input: Int*): Unit = println(input.getClass)

function(1, 2, 3)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">class scala.collection.mutable.WrappedArray$ofInt</code></pre>
<h2><a href="#代码清单3-12" name="代码清单3-12" class="anchor"><span class="anchor-link"></span></a>代码清单3-12</h2>
<pre class="prettyprint"><code class="language-scala">val numbers = Array(2, 5, 3, 7, 1, 6)
max(numbers) // type mismatch error</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">CantSendArray.scala:5: error: type mismatch;
 found   : Array[Int]
 required: Int
max(numbers) // type mismatch error
    ^
one error found</code></pre>
<h2><a href="#代码清单3-13" name="代码清单3-13" class="anchor"><span class="anchor-link"></span></a>代码清单3-13</h2>
<pre class="prettyprint"><code class="language-scala">val numbers = Array(2, 5, 3, 7, 1, 6)
max(numbers: _*)</code></pre>
<h2><a href="#代码清单3-14" name="代码清单3-14" class="anchor"><span class="anchor-link"></span></a>代码清单3-14</h2>
<pre class="prettyprint"><code class="language-scala">def mail(destination: String = &quot;head office&quot;, mailClass: String = &quot;first&quot;): Unit =
  println(s&quot;sending to $destination by $mailClass class&quot;)</code></pre>
<h2><a href="#代码清单3-15" name="代码清单3-15" class="anchor"><span class="anchor-link"></span></a>代码清单3-15</h2>
<pre class="prettyprint"><code class="language-scala">mail(&quot;Houston office&quot;, &quot;Priority&quot;)
mail(&quot;Boston office&quot;)
mail()</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">sending to Houston office by Priority class
sending to Boston office by first class
sending to head office by first class</code></pre>
<h2><a href="#代码清单3-16" name="代码清单3-16" class="anchor"><span class="anchor-link"></span></a>代码清单3-16</h2>
<pre class="prettyprint"><code class="language-scala">mail(mailClass = &quot;Priority&quot;, destination = &quot;Bahamas office&quot;)</code></pre>
<h2><a href="#代码清单3-17" name="代码清单3-17" class="anchor"><span class="anchor-link"></span></a>代码清单3-17</h2>
<pre class="prettyprint"><code class="language-scala">mail(mailClass = &quot;Priority&quot;)</code></pre>
<h2><a href="#代码清单3-18" name="代码清单3-18" class="anchor"><span class="anchor-link"></span></a>代码清单3-18</h2>
<pre class="prettyprint"><code class="language-scala">class Wifi(name: String) {
  override def toString: String = name
}

def connectToNetwork(user: String)(implicit wifi: Wifi): Unit = {
  println(s&quot;User: $user connected to WIFI $wifi&quot;)
}

def atOffice(): Unit = {
  println(&quot;--- at the office ---&quot;)
  implicit def officeNetwork: Wifi = new Wifi(&quot;office-network&quot;)
  val cafeteriaNetwork = new Wifi(&quot;cafe-connect&quot;)

  connectToNetwork(&quot;guest&quot;)(cafeteriaNetwork)
  connectToNetwork(&quot;Jill Coder&quot;)
  connectToNetwork(&quot;Joe Hacker&quot;)
}

def atJoesHome(): Unit = {
  println(&quot;--- at Joe&#39;s home ---&quot;)
  implicit def homeNetwork: Wifi = new Wifi(&quot;home-network&quot;)

  connectToNetwork(&quot;guest&quot;)(homeNetwork)
  connectToNetwork(&quot;Joe Hacker&quot;)
}

atOffice()
atJoesHome()</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">--- at the office ---
User: guest connected to WIFI cafe-connect
User: Jill Coder connected to WIFI office-network
User: Joe Hacker connected to WIFI office-network
--- at Joe&#39;s home ---
User: guest connected to WIFI home-network
User: Joe Hacker connected to WIFI home-network</code></pre>
<h2><a href="#代码清单3-19" name="代码清单3-19" class="anchor"><span class="anchor-link"></span></a>代码清单3-19</h2>
<pre class="prettyprint"><code class="language-scala">  val str = &quot;&quot;&quot;In his famous inaugural speech, John F. Kennedy said
        &quot;And so, my fellow Americans: ask not what your country can do
	for you-ask what you can do for your country.&quot; He then proceeded
	to speak to the citizens of the World...&quot;&quot;&quot;
  println(str)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">In his famous inaugural speech, John F. Kennedy said
        &quot;And so, my fellow Americans: ask not what your country can do 
	for you-ask what you can do for your country.&quot; He then proceeded 
	to speak to the citizens of the World...</code></pre>
<h2><a href="#代码清单3-20" name="代码清单3-20" class="anchor"><span class="anchor-link"></span></a>代码清单3-20</h2>
<pre class="prettyprint"><code class="language-scala">val str = &quot;&quot;&quot;In his famous inaugural speech, John F. Kennedy said
            	|&quot;And so, my fellow Americans: ask not what your country can do
            	|for you-ask what you can do for your country.&quot; He then proceeded
            	|to speak to the citizens of the World...&quot;&quot;&quot;.stripMargin
println(str)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">In his famous inaugural speech, John F. Kennedy said
&quot;And so, my fellow Americans: ask not what your country can do 
for you-ask what you can do for your country.&quot; He then proceeded 
to speak to the citizens of the World...</code></pre>
<h2><a href="#代码清单3-21" name="代码清单3-21" class="anchor"><span class="anchor-link"></span></a>代码清单3-21</h2>
<pre class="prettyprint"><code class="language-scala">val message = s&quot;A discount of $discount% has been applied&quot;</code></pre>
<h2><a href="#代码清单3-22" name="代码清单3-22" class="anchor"><span class="anchor-link"></span></a>代码清单3-22</h2>
<pre class="prettyprint"><code class="language-scala">var price = 90
val totalPrice = s&quot;The amount of discount is ${price * discount / 100} dollars&quot;</code></pre>
<h2><a href="#代码清单3-23" name="代码清单3-23" class="anchor"><span class="anchor-link"></span></a>代码清单3-23</h2>
<pre class="prettyprint"><code class="language-scala">val totalPrice = s&quot;The amount of discount is $$${price * discount / 100}&quot;</code></pre>
<h2><a href="#代码清单3-24" name="代码清单3-24" class="anchor"><span class="anchor-link"></span></a>代码清单3-24</h2>
<pre class="prettyprint"><code class="language-scala">val discount = 10
var price = 100
val totalPrice =
  s&quot;The amount after discount is $$${price * (1 - discount / 100.0)}&quot;
println(totalPrice)

price = 50
println(totalPrice)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">The amount after discount is $90.0
The amount after discount is $90.0</code></pre>
<h2><a href="#代码清单3-25" name="代码清单3-25" class="anchor"><span class="anchor-link"></span></a>代码清单3-25</h2>
<pre class="prettyprint"><code class="language-scala">val product = &quot;ticket&quot;
val price = 25.12
val discount = 10
println(s&quot;On $product $discount% saves $$${price * discount / 100.00}&quot;)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">On ticket 10% saves $2.512</code></pre>
<h2><a href="#代码清单3-26" name="代码清单3-26" class="anchor"><span class="anchor-link"></span></a>代码清单3-26</h2>
<pre class="prettyprint"><code class="language-scala">class Complex(val real: Int, val imaginary: Int) {
  def +(operand: Complex): Complex = {
    new Complex(real + operand.real, imaginary + operand.imaginary)
  }

  override def toString: String = {
    val sign = if (imaginary &lt; 0) &quot;&quot; else &quot;+&quot;
    s&quot;$real$sign${imaginary}i&quot;
  }
}

val c1 = new Complex(1, 2)
val c2 = new Complex(2, -3)
val sum = c1 + c2
println(s&quot;($c1) + ($c2) = $sum&quot;)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">(1+2i) + (2-3i) = 3-1i</code></pre>
<h2><a href="#代码清单3-27" name="代码清单3-27" class="anchor"><span class="anchor-link"></span></a>代码清单3-27</h2>
<pre class="prettyprint"><code class="language-scala">class Complex(val real: Int, val imaginary: Int) {
  def +(operand: Complex): Complex = {
    println(&quot;Calling +&quot;)
    new Complex(real + operand.real, imaginary + operand.imaginary)
  }

  def *(operand: Complex): Complex = {
    println(&quot;Calling *&quot;)
    new Complex(
      real * operand.real - imaginary * operand.imaginary,
      real * operand.imaginary + imaginary * operand.real)
  }
  override def toString: String = {
    val sign = if (imaginary &lt; 0) &quot;&quot; else &quot;+&quot;
    s&quot;$real$sign${imaginary}i&quot;
  }
}

val c1 = new Complex(1, 4)
val c2 = new Complex(2, -3)
val c3 = new Complex(2, 2)
println(c1 + c2 * c3)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">Calling *
Calling +
11+2i</code></pre>
<h2><a href="#代码清单3-28" name="代码清单3-28" class="anchor"><span class="anchor-link"></span></a>代码清单3-28</h2>
<pre class="prettyprint"><code class="language-scala">var a = 1
var b = 2
a = b = 3 //Error</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">SerialAssignments.scala:4: error: type mismatch;
 found   : Unit
 required: Int
a = b = 3
      ^
one error found</code></pre>
<h2><a href="#代码清单3-29" name="代码清单3-29" class="anchor"><span class="anchor-link"></span></a>代码清单3-29</h2>
<pre class="prettyprint"><code class="language-scala">val str1 = &quot;hello&quot;
val str2 = &quot;hello&quot;
val str3 = new String(&quot;hello&quot;)

println(str1 == str2) // Equivalent to Java&#39;s str1.equals(str2)
println(str1 eq str2) // Equivalent to Java&#39;s str1 == str2
println(str1 == str3)
println(str1 eq str3)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">true
true
true
false</code></pre>
<h2><a href="#代码清单3-30" name="代码清单3-30" class="anchor"><span class="anchor-link"></span></a>代码清单3-30</h2>
<pre class="prettyprint"><code class="language-scala">val list1 = new java.util.ArrayList[Int];
{
  println(&quot;Created list1&quot;)
}

val list2 = new java.util.ArrayList[Int] {
  println(&quot;Created list2&quot;)
}

println(list1.getClass)
println(list2.getClass)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">Created list1
Created list2
class java.util.ArrayList
class Main$$anon$2$$anon$1</code></pre>
<h2><a href="#代码清单3-31" name="代码清单3-31" class="anchor"><span class="anchor-link"></span></a>代码清单3-31</h2>
<pre class="prettyprint"><code class="language-scala">def check1 = true
def check2: Boolean = return true
def check3: Boolean = true
println(check1)
println(check2)
println(check3)</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">true
true
true</code></pre>
<h2><a href="#代码清单3-32" name="代码清单3-32" class="anchor"><span class="anchor-link"></span></a>代码清单3-32</h2>
<pre class="prettyprint"><code class="language-scala">class Microwave {
  def start(): Unit = println(&quot;started&quot;)
  def stop(): Unit = println(&quot;stopped&quot;)
  private def turnTable(): Unit = println(&quot;turning table&quot;)
}
val microwave = new Microwave
microwave.start() // OK</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">Access.scala:9: error: method turnTable in class Microwave cannot be
accessed in this.Microwave
microwave.turnTable() //ERROR
          ^
one error found</code></pre>
<h2><a href="#代码清单3-33" name="代码清单3-33" class="anchor"><span class="anchor-link"></span></a>代码清单3-33</h2>
<pre class="prettyprint"><code class="language-scala">class Vehicle {
  protected def checkEngine() {}
}

class Car extends Vehicle {
  def start() { checkEngine() /*OK*/ }
  def tow(car: Car) {
    car.checkEngine() //OK
  }
  def tow(vehicle: Vehicle) {
    vehicle.checkEngine() //ERROR
  }
}

class GasStation {
  def fillGas(vehicle: Vehicle) {
    vehicle.checkEngine() //ERROR
  }
}</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">Protected.scala:12: error: method checkEngine in class Vehicle cannot be
accessed in automobiles.Vehicle
 Access to protected method checkEngine not permitted because
 prefix type automobiles.Vehicle does not conform to
 class Car in package automobiles where the access take place
    vehicle.checkEngine() //ERROR
            ^
Protected.scala:17: error: method checkEngine in class Vehicle cannot be 
accessed in automobiles.Vehicle
 Access to protected method checkEngine not permitted because
 enclosing class GasStation in package automobiles is not a subclass of
 class Vehicle in package automobiles where target is defined
    vehicle.checkEngine() //ERROR
            ^
two errors found</code></pre>
<h2><a href="#代码清单3-34" name="代码清单3-34" class="anchor"><span class="anchor-link"></span></a>代码清单3-34</h2>
<pre class="prettyprint"><code class="language-scala">package society {

  package professional {
    class Executive {
      private[professional] var workDetails = null
      private[society] var friends = null
      private[this] var secrets = null

      def help(another: Executive): Unit = {
        println(another.workDetails)
        println(secrets)
        println(another.secrets) //ERROR
      }
    }

    class Assistant {
      def assist(anExec: Executive): Unit = {
        println(anExec.workDetails)
        println(anExec.friends)
      }
    }
  }

  package social {
    class Acquaintance {
      def socialize(person: professional.Executive) {
        println(person.friends)
        println(person.workDetails) // ERROR
      }
    }
  }
}</code></pre>
<p><em>运行结果</em></p>
<pre class="prettyprint"><code class="language-output">FineGrainedAccessControl.scala:12: error: value secrets is not a member of
society.professional.Executive
        println(another.secrets) //ERROR
                        ^
FineGrainedAccessControl.scala:28: error: variable workDetails in class 
Executive cannot be accessed in society.professional.Executive
        println(person.workDetails) // ERROR
                       ^
two errors found</code></pre>
</div>
<div>
<a href="https://github.com/ReactivePlatform/Pragmatic-Scala/tree/master/src/paradox/chapter-03/index.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
1.0
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../chapter-02/index.html" title="第2章——体验Scala" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
第2章——体验Scala
</span>
</div>
</a>
<a href="../chapter-04/index.html" title="第4章——善用对象" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
第4章——善用对象
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.5165553b.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
